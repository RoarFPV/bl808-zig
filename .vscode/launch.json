{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: Macro Parser",
      "type": "python",
      "request": "launch",
      "program": "macros.py",
      "console": "integratedTerminal",
      "cwd": "${workspaceFolder}/deps/bl-reg-parser",
      "justMyCode": true
    },
    {
      "name": "Pico Probe SWD",
      "cwd": "${workspaceRoot}",
      "executable": "${workspaceFolder}/zig-out/bin/firmware.elf",
      "request": "launch",
      "type": "cortex-debug",
      "servertype": "openocd",
      "device": "EOS-S3",
      "configFiles": [
        "interface/cmsis-dap.cfg",
        "target/eos_s3.cfg"
      ],
      "searchDir": [
        "C:/code/pico-sdk-win/openocd/scripts"
      ],
      "svdFile": "${workspaceFolder}/deps/svd/eos-s3.svd",
      "runToEntryPoint": "main",
      "liveWatch": {
        "enabled": true,
        "samplesPerSecond": 4
      },
      "serverArgs": [
        "-d"
      ],
      "preLaunchTask": "Build Firmware",
      "postRestartCommands": [
        "break main",
        "continue"
      ]
    },
    {
      "cwd": "${workspaceFolder}",
      "executable": "${workspaceRoot}/zig-out/bin/firmware.elf",
      "name": "Debug with ST-Link",
      "request": "launch",
      "type": "cortex-debug",
      "runToEntryPoint": "main",
      "showDevDebugOutput": "both",
      "servertype": "stlink",
      "preLaunchTask": "Build Firmware"
    },
    {
      "type": "lldb",
      "request": "launch",
      "name": "Renode",
      "program": "renode",
      "args": [
        "tools/renode/eos-s3.resc"
      ],
      "cwd": "${workspaceFolder}",
      "initCommands": []
    },
    {
      "name": "Cortex Debug Renode (Windows)",
      "cwd": "${workspaceFolder}",
      "executable": "${workspaceRoot}/zig-out/bin/firmware.elf",
      "device": "eos-s3",
      "request": "launch",
      "type": "cortex-debug",
      "runToEntryPoint": "main",
      "servertype": "external",
      "gdbTarget": "localhost:3333",
      "armToolchainPath": "C:\\Program Files (x86)\\GNU Arm Embedded Toolchain\\10 2021.10\\bin",
      "svdFile": "deps/svd/eos-s3.svd",
      "showDevDebugOutput": "parsed",
      "overrideRestartCommands": [
        "monitor pause",
        "monitor runMacro $reset"
      ],
      "postStartSessionCommands": [
        "break main"
      ]
    },
    {
      "type": "cppvsdbg",
      "request": "launch",
      "name": "Regz bl808",
      "program": "${workspaceRoot}/deps/regz/zig-out/bin/regz.exe",
      "cwd": "${workspaceRoot}/deps/regz",
      "args": [
        "${workspaceRoot}/deps/svd/bl808.svd",
        "-o",
        "${workspaceRoot}/src/microzig/chips/bl808.zig"
      ],
      "console": "integratedTerminal",
      "preLaunchTask": "Build regz"
    },
    {
      "type": "cppvsdbg",
      "request": "launch",
      "name": "bl-reg-parser",
      "program": "${workspaceRoot}/deps/bl-reg-parser/zig-out/bin/bl-reg-parser.exe",
      "cwd": "${workspaceRoot}/deps/bl-reg-parser",
      "console": "integratedTerminal",
      "preLaunchTask": "Build bl-reg-parser"
    }
  ],
  "compounds": [
    {
      "name": "Renode + firmware",
      "configurations": [
        "Cortex Debug Renode (Windows)",
        "Renode"
      ],
      "preLaunchTask": "Build Firmware",
      "stopAll": true
    }
  ]
}